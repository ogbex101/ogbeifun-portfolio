(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,72906,e=>{"use strict";var t=e.i(43476),r=e.i(71645);function l({onProjectAdded:e}){let[l,s]=(0,r.useState)({title:"",description:"",technologiesString:"",githubUrl:"",liveUrl:"",category:"PHP",featured:!1}),[o,a]=(0,r.useState)([]),[i,c]=(0,r.useState)(!1),n=async t=>{t.preventDefault(),c(!0);try{let t=await fetch("/api/projects",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)});if(!t.ok)throw Error("Failed to create project");let r=await t.json();if(o.length>0)for(let e of o){let t=new FormData;t.append("image",e),t.append("projectId",r.id),await fetch("/api/upload",{method:"POST",body:t})}s({title:"",description:"",technologiesString:"",githubUrl:"",liveUrl:"",category:"PHP",featured:!1}),a([]),alert("Project added successfully!"),e()}catch(e){console.error("Error adding project:",e),alert("Error adding project. Please try again.")}finally{c(!1)}},d=e=>{let{name:t,value:r,type:l}=e.target;s(s=>({...s,[t]:"checkbox"===l?e.target.checked:r}))};return(0,t.jsxs)("form",{onSubmit:n,className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Project Title *"}),(0,t.jsx)("input",{type:"text",name:"title",value:l.title,onChange:d,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter project title"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),(0,t.jsx)("textarea",{name:"description",value:l.description,onChange:d,required:!0,rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Describe your project..."})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Technologies *"}),(0,t.jsx)("input",{type:"text",name:"technologiesString",value:l.technologiesString,onChange:d,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"PHP, MySQL, JavaScript, React, etc."}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Separate technologies with commas"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"GitHub URL"}),(0,t.jsx)("input",{type:"url",name:"githubUrl",value:l.githubUrl,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"https://github.com/username/repo"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Live Demo URL"}),(0,t.jsx)("input",{type:"url",name:"liveUrl",value:l.liveUrl,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"https://your-project.com"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),(0,t.jsxs)("select",{name:"category",value:l.category,onChange:d,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"PHP",children:"PHP"}),(0,t.jsx)("option",{value:"Next.js",children:"Next.js"}),(0,t.jsx)("option",{value:"Node.js",children:"Node.js"}),(0,t.jsx)("option",{value:"Full-Stack",children:"Full-Stack"}),(0,t.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("input",{type:"checkbox",name:"featured",checked:l.featured,onChange:d,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,t.jsx)("label",{className:"ml-2 block text-sm text-gray-700",children:"Feature this project"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Project Images (Max 5)"}),(0,t.jsx)("input",{type:"file",multiple:!0,accept:"image/*",onChange:e=>{if(e.target.files){let t=Array.from(e.target.files);if(t.length>5)return void alert("Maximum 5 images allowed");a(t)}},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,t.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:[o.length,"/5 images selected"]}),o.length>0&&(0,t.jsx)("div",{className:"mt-4 grid grid-cols-2 md:grid-cols-3 gap-4",children:o.map((e,r)=>(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("img",{src:URL.createObjectURL(e),alt:`Preview ${r+1}`,className:"w-full h-24 object-cover rounded-lg"}),(0,t.jsx)("button",{type:"button",onClick:()=>a(o.filter((e,t)=>t!==r)),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center",children:"Ã—"})]},r))})]}),(0,t.jsx)("button",{type:"submit",disabled:i,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Adding Project...":"Add Project"})]})}function s(){let[e,s]=(0,r.useState)(0);return(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,t.jsx)("div",{className:"max-w-4xl mx-auto px-4",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mb-6 text-gray-800",children:"Add New Project"}),(0,t.jsx)(l,{onProjectAdded:()=>{s(e=>e+1)}})]})})})}e.s(["default",()=>s],72906)}]);